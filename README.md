# Pinger #
## Тестовое задание ##
## Автор: Трофимов Владимир ##

---
### Содержание ###
- [Запуск (в docker-контейнере)](#запуск-в-docker-контейнере)
- [Маршруты сервера (на локальном хосте)](#маршруты-сервера-на-локальном-хосте)
- [Логирование](#логирование)
---

### Запуск (в docker-контейнере) ###
1) Скачайте репозиторий.
2) Выполните в нём команду: 
```
docker-compose up
```
3) Запустите полученный контейнер.
4) Перейдите в браузере на локальном компьютере по ссылке (на frontend): http://localhost:8080/

### Маршруты сервера (на локальном хосте) ###
- http://localhost:1234/create_tracking (POST) - Создаёт новое отслеживание состояния хоста. В теле нужно передать параметр `ip`.
- http://localhost:1234/delete_tracking (POST) - Удаляет отслеживание состояние хоста. В теле нужно передать параметр `ip`.
- http://localhost:1234/read_all_statuses (GET) - Запрашивает статусы отслеживаемых хостов (используется во frontend). 
- http://localhost:1234/update_status (POST) - Обновляет информацию о состоянии отслеживаемого хоста (используется в Pinger). В теле нужно передать параметры `ip`, `ping_time_ms`, `last_success_date`.
- http://localhost:1234/read_ip_list (GET) - Запрашивает список отслеживаемых хостов (используется в Pinger).


### Логирование ###
Логгирование ошибок системы:
- Для backend:
    - .\backend\logs\db_errors.log
    - .\backend\logs\errors.log
    - .\backend\logs\net_errors.log
- Для pinger:
    - .\pinger\logs\errors.log
    - .\pinger\logs\net_errors.log

При запуске в Docker-контейнере произойдет маппинг томов, так что изменеия будут записываться в эти файлы и на локальном хосте.

В `.\pinger\env\.env` и `.\backend\env\.env` можете поменять названия для этих файлов, но они должны находиться в папках `.\*\logs\`